(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[147],{526:(e,t,a)=>{"use strict";a.d(t,{cn:()=>l});var r=a(2821),s=a(5889);function l(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];return(0,s.QP)((0,r.$)(t))}},720:(e,t,a)=>{Promise.resolve().then(a.bind(a,7328))},4635:(e,t,a)=>{"use strict";function r(e){let t=[...e].sort((e,t)=>{var a,r;let s=null!=(a=e.mp_path)?a:"",l=null!=(r=t.mp_path)?r:"";return s===l?e.name.localeCompare(t.name):s.localeCompare(l)}),a=new Set;for(let t of e)null!==t.parent_id&&void 0!==t.parent_id&&a.add(t.parent_id);return t.map(e=>{var t;let r=null!=(t=e.depth)?t:0,s=r>0?"".concat("— ".repeat(r)):"";return{id:e.id,label:"".concat(s).concat(e.name),depth:r,isLeaf:!a.has(e.id),color:e.color}})}a.d(t,{G:()=>r})},6128:(e,t,a)=>{"use strict";a.d(t,{w:()=>i});var r=a(5155);a(2115);var s=a(526);let l={none:"gap-0",sm:"gap-3",md:"gap-4",lg:"gap-6"};function i(e){let{spacing:t="md",className:a,children:i,...n}=e;return(0,r.jsx)("section",{className:(0,s.cn)("flex flex-col",l[t],a),...n,children:i})}},6816:(e,t,a)=>{"use strict";a.d(t,{Ex:()=>i,$n:()=>c,Zp:()=>o,Sc:()=>u,pp:()=>x,D0:()=>m,pd:()=>p,l6:()=>f,TM:()=>h,M7:()=>b});var r=a(5155),s=a(2115),l=a(526);function i(e){let{tone:t="accent",size:a="md",uppercase:s=!0,className:i,children:n,...d}=e;return(0,r.jsx)("span",{className:(0,l.cn)("inline-flex items-center rounded-full font-medium tracking-wide",s&&"uppercase","accent"===t?"bg-[var(--accent-primary-soft)] text-[var(--text-primary)]":"success"===t?"bg-emerald-100 text-emerald-700":"warning"===t?"bg-amber-100 text-amber-700":"bg-surface-soft text-muted","sm"===a?"px-2 py-0.5 text-[0.65rem]":"px-3 py-1 text-xs",i),...d,children:n})}let n={primary:"bg-[var(--accent-primary)] text-[var(--accent-on-primary)] focus-visible:ring-[var(--accent-primary)] focus-visible:ring-offset-[var(--surface-0)] hover:opacity-90",secondary:"bg-surface-soft text-[var(--text-primary)] border border-subtle focus-visible:ring-[var(--accent-primary)] focus-visible:ring-offset-[var(--surface-0)] hover:bg-[var(--surface-0)]",ghost:"bg-transparent text-[var(--text-primary)] hover:bg-surface-soft focus-visible:ring-[var(--accent-primary)] focus-visible:ring-offset-[var(--surface-0)]",outline:"border border-subtle text-[var(--text-primary)] hover:border-[var(--accent-primary)] hover:text-[var(--accent-primary)] focus-visible:ring-[var(--accent-primary)] focus-visible:ring-offset-[var(--surface-0)]",subtle:"bg-[color-mix(in srgb, var(--accent-primary) 8%, transparent)] text-[var(--text-primary)] hover:bg-[color-mix(in srgb, var(--accent-primary) 12%, transparent)] focus-visible:ring-[var(--accent-primary)] focus-visible:ring-offset-[var(--surface-0)]",danger:"bg-red-500 text-white hover:bg-red-600 focus-visible:ring-red-500 focus-visible:ring-offset-[var(--surface-0)]"},d={sm:"h-9 px-3 text-xs",md:"h-10 px-4",lg:"h-11 px-5 text-base",icon:"h-10 w-10 text-base"},c=(0,s.forwardRef)((e,t)=>{let{variant:a="primary",size:s="md",fullWidth:i=!1,className:c,type:o="button",...u}=e;return(0,r.jsx)("button",{ref:t,type:o,className:(0,l.cn)("inline-flex items-center justify-center gap-2 rounded-xl text-sm font-medium transition-base focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-60",n[a],d[s],i&&"w-full",c),...u})});c.displayName="Button";let o=(0,s.forwardRef)((e,t)=>{let{className:a,padded:s=!0,surface:i="default",as:n="section",...d}=e;return(0,r.jsx)(n,{ref:t,className:(0,l.cn)("rounded-2xl border border-subtle shadow-soft","soft"===i?"bg-surface-soft":"bg-[var(--surface-0)]",s&&"p-6",a),...d})});o.displayName="Card";let u=(0,s.forwardRef)((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)("input",{ref:t,type:"checkbox",className:(0,l.cn)("h-4 w-4 rounded border-subtle text-[var(--accent-primary)] focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-[var(--accent-primary)] focus-visible:ring-offset-2 focus-visible:ring-offset-[var(--surface-0)]",a),...s})});function x(e){let{title:t,description:a,action:s,icon:i,className:n,...d}=e;return(0,r.jsxs)(o,{as:"article",padded:!0,surface:"soft",className:(0,l.cn)("flex flex-col items-start gap-3 text-sm text-muted",n),...d,children:[i?(0,r.jsx)("div",{className:"text-2xl","aria-hidden":!0,children:i}):null,(0,r.jsx)("div",{className:"text-base font-semibold text-[var(--text-primary)]",children:t}),a?(0,r.jsx)("p",{children:a}):null,s?(0,r.jsx)("div",{className:"mt-2",children:s}):null]})}function m(e){let{label:t,description:a,error:i,inline:n=!1,required:d=!1,htmlFor:c,className:o,children:u,...x}=e,m=(0,s.useId)(),p=null!=c?c:m,f="".concat(p,"-label"),h=s.Children.map(u,e=>{if(!(0,s.isValidElement)(e))return e;let a={};e.props.id||(a.id=p);let r=e.props["aria-labelledby"];return a["aria-labelledby"]=r?"".concat(r," ").concat(f):f,"string"!=typeof t||e.props["aria-label"]||(a["aria-label"]=t),(0,s.cloneElement)(e,a)});return(0,r.jsxs)("div",{className:(0,l.cn)("flex flex-col gap-2 text-sm text-muted",n?"md:flex-row md:items-center md:gap-4":null,o),...x,children:[(0,r.jsxs)("label",{id:f,htmlFor:null!=c?c:p,className:"flex items-center gap-1 text-sm font-medium text-[var(--text-primary)]",children:[(0,r.jsx)("span",{children:t}),d?(0,r.jsx)("span",{className:"text-red-500","aria-hidden":"true",children:"*"}):null]}),(0,r.jsxs)("div",{className:"flex flex-col gap-1",children:[h,a?(0,r.jsx)("p",{className:"text-xs text-muted",children:a}):null,i?(0,r.jsx)("p",{className:"text-xs text-red-600",children:i}):null]})]})}u.displayName="Checkbox";let p=(0,s.forwardRef)((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)("input",{ref:t,className:(0,l.cn)("w-full rounded-xl border border-subtle bg-[var(--surface-0)] px-3 py-2 text-base text-[var(--text-primary)] transition-base placeholder:text-muted focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-[var(--accent-primary)]",a),...s})});p.displayName="Input";let f=(0,s.forwardRef)((e,t)=>{let{className:a,children:s,...i}=e;return(0,r.jsx)("select",{ref:t,className:(0,l.cn)("w-full rounded-xl border border-subtle bg-[var(--surface-0)] px-3 py-2 text-base text-[var(--text-primary)] transition-base focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-[var(--accent-primary)]",a),...i,children:s})});f.displayName="Select",a(6128);let h=(0,s.forwardRef)((e,t)=>{let{className:a,rows:s=3,...i}=e;return(0,r.jsx)("textarea",{ref:t,rows:s,className:(0,l.cn)("w-full rounded-xl border border-subtle bg-[var(--surface-0)] px-3 py-2 text-base text-[var(--text-primary)] transition-base placeholder:text-muted focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-[var(--accent-primary)]",a),...i})});function b(e){let{justify:t="between",className:a,children:s,...i}=e;return(0,r.jsx)("div",{className:(0,l.cn)("flex flex-wrap items-center gap-3 rounded-2xl border border-subtle bg-surface-soft px-4 py-3","start"===t?"justify-start":"end"===t?"justify-end":"justify-between",a),...i,children:s})}h.displayName="Textarea"},7328:(e,t,a)=>{"use strict";a.d(t,{default:()=>x});var r=a(5155),s=a(2115),l=a(2454),i=a(549),n=a(8185),d=a(7621),c=a(4635);function o(e){if(!e)return"—";let t=new Date(e);return Number.isNaN(t.getTime())?e:t.toLocaleString("ru-RU",{dateStyle:"short",timeStyle:"short"})}var u=a(6816);function x(){var e,t,a,x,m,p;let f=(0,l.I)({queryKey:["areas"],staleTime:6e4,gcTime:3e5,queryFn:()=>(0,d.nr)("/api/v1/areas")}),h=(0,l.I)({queryKey:["projects","all"],staleTime:6e4,gcTime:3e5,queryFn:()=>(0,d.nr)("/api/v1/projects")}),[b,v]=(0,s.useState)({areaId:"",includeSub:!1}),[g,y]=(0,s.useState)({areaId:"",includeSub:!1}),[j,N]=(0,s.useState)({title:"",description:"",areaId:"",projectId:"",dueDate:""}),[w,k]=(0,s.useState)(null),[S,_]=(0,s.useState)(null),[I,D]=(0,s.useState)(null),C=(0,l.I)({queryKey:["tasks",g.areaId,g.includeSub],staleTime:15e3,gcTime:3e5,queryFn:()=>{let e=g.areaId?Number(g.areaId):void 0,t=(0,d.Zq)({area_id:e,include_sub:e&&g.includeSub?1:void 0});return(0,d.nr)("/api/v1/tasks".concat(t))}}),q=(0,l.I)({queryKey:["tasks","stats"],staleTime:15e3,gcTime:6e4,queryFn:()=>(0,d.nr)("/api/v1/tasks/stats")}),F=(0,s.useMemo)(()=>{var e;return(0,c.G)(null!=(e=f.data)?e:[])},[f.data]),T=(0,s.useMemo)(()=>{var e;let t=null!=(e=h.data)?e:[],a=new Map;return t.forEach(e=>{let t=a.get(e.area_id);t?t.push(e):a.set(e.area_id,[e])}),a},[h.data]),M=(0,s.useMemo)(()=>{var e;if(!j.areaId)return[];let t=Number(j.areaId);return null!=(e=T.get(t))?e:[]},[j.areaId,T]),E=(0,i.n)({mutationFn:async e=>(0,d.nr)("/api/v1/tasks",{method:"POST",body:JSON.stringify(e)}),onSuccess:()=>{N({title:"",description:"",areaId:"",projectId:"",dueDate:""}),k(null),C.refetch(),q.refetch()},onError:e=>{if(e instanceof d.hD){let t="object"==typeof e.info&&null!==e.info?e.info.detail:null;k(null!=t?t:e.message);return}k("Не удалось создать задачу")}}),O=(0,i.n)({mutationFn:e=>(0,d.nr)("/api/v1/tasks/".concat(e,"/start_timer"),{method:"POST"}),onMutate:e=>{D({type:"start",taskId:e})},onSuccess:()=>{_(null),C.refetch(),q.refetch()},onError:e=>{_(e instanceof d.hD?e.message:"Не удалось запустить таймер")},onSettled:()=>{D(null)}}),P=(0,i.n)({mutationFn:e=>(0,d.nr)("/api/v1/tasks/".concat(e,"/stop_timer"),{method:"POST"}),onMutate:e=>{D({type:"stop",taskId:e})},onSuccess:()=>{_(null),C.refetch(),q.refetch()},onError:e=>{_(e instanceof d.hD?e.message:"Не удалось остановить таймер")},onSettled:()=>{D(null)}}),Z=(0,i.n)({mutationFn:e=>(0,d.nr)("/api/v1/tasks/".concat(e,"/done"),{method:"POST"}),onMutate:e=>{D({type:"done",taskId:e})},onSuccess:()=>{_(null),C.refetch(),q.refetch()},onError:e=>{_(e instanceof d.hD?e.message:"Не удалось завершить задачу")},onSettled:()=>{D(null)}}),L=C.isLoading||f.isLoading||h.isLoading,R=null!=(m=null!=(x=f.error)?x:h.error)?m:C.error,$=R?R instanceof d.hD?R.message:"Не удалось загрузить данные":null,z=null!=(p=C.data)?p:[],A=!L&&0===z.length;return(0,r.jsxs)(n.A,{title:"Задачи",description:"Создавайте задачи, отслеживайте прогресс и управляйте таймерами в едином интерфейсе.",children:[(0,r.jsx)("form",{onSubmit:e=>{e.preventDefault(),y({...b}),q.refetch()},className:"space-y-0",children:(0,r.jsxs)(u.Zp,{surface:"soft",className:"flex flex-col gap-4",children:[(0,r.jsxs)("div",{className:"flex flex-wrap items-center justify-between gap-3",children:[(0,r.jsx)("div",{className:"text-base font-semibold text-[var(--text-primary)]",children:"Фильтр задач"}),(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[(0,r.jsx)(u.D0,{label:"Область",className:"min-w-[220px]",required:!1,htmlFor:"filter-area",children:(0,r.jsxs)(u.l6,{id:"filter-area",value:b.areaId,onChange:e=>v(t=>({...t,areaId:e.target.value})),disabled:f.isLoading,children:[(0,r.jsx)("option",{value:"",children:"— без фильтра —"}),F.map(e=>(0,r.jsx)("option",{value:e.id,children:e.label},e.id))]})}),(0,r.jsxs)("label",{className:"flex items-center gap-2 text-sm text-muted",children:[(0,r.jsx)(u.Sc,{id:"filter-include-sub",checked:b.includeSub,onChange:e=>v(t=>({...t,includeSub:e.target.checked})),disabled:!b.areaId}),"Включать подкатегории"]})]})]}),(0,r.jsx)("div",{className:"flex justify-end",children:(0,r.jsx)(u.$n,{type:"submit",size:"sm",children:"Показать"})})]})}),(0,r.jsx)("form",{onSubmit:e=>{if(e.preventDefault(),!j.title.trim())return void k("Название обязательно");if(!j.areaId)return void k("Выберите область");let t={title:j.title.trim(),description:j.description.trim()?j.description.trim():null,due_date:j.dueDate?new Date(j.dueDate).toISOString():null,area_id:Number(j.areaId),project_id:j.projectId?Number(j.projectId):null};E.mutate(t)},className:"space-y-0",children:(0,r.jsxs)(u.Zp,{surface:"soft",className:"flex flex-col gap-6",children:[(0,r.jsx)("div",{className:"text-base font-semibold text-[var(--text-primary)]",children:"Новая задача"}),(0,r.jsxs)("div",{className:"grid gap-4 md:grid-cols-2",children:[(0,r.jsx)(u.D0,{label:"Название",required:!0,htmlFor:"task-title",children:(0,r.jsx)(u.pd,{id:"task-title",value:j.title,onChange:e=>N(t=>({...t,title:e.target.value})),placeholder:"Что нужно сделать?",required:!0})}),(0,r.jsx)(u.D0,{label:"Срок (опционально)",htmlFor:"task-due",children:(0,r.jsx)(u.pd,{id:"task-due",type:"datetime-local",value:j.dueDate,onChange:e=>N(t=>({...t,dueDate:e.target.value}))})}),(0,r.jsx)(u.D0,{label:"Область",required:!0,htmlFor:"task-area",children:(0,r.jsxs)(u.l6,{id:"task-area",value:j.areaId,onChange:e=>N(t=>({...t,areaId:e.target.value})),disabled:f.isLoading,required:!0,children:[(0,r.jsx)("option",{value:"",children:"— выберите область —"}),F.map(e=>(0,r.jsx)("option",{value:e.id,children:e.label},e.id))]})}),(0,r.jsx)(u.D0,{label:"Проект (опционально)",htmlFor:"task-project",children:(0,r.jsxs)(u.l6,{id:"task-project",value:j.projectId,onChange:e=>N(t=>({...t,projectId:e.target.value})),disabled:!j.areaId||0===M.length,children:[(0,r.jsx)("option",{value:"",children:"— без проекта —"}),M.map(e=>(0,r.jsx)("option",{value:e.id,children:e.name},e.id))]})}),(0,r.jsx)(u.D0,{label:"Описание (опционально)",className:"md:col-span-2",htmlFor:"task-description",children:(0,r.jsx)(u.TM,{id:"task-description",value:j.description,onChange:e=>N(t=>({...t,description:e.target.value})),rows:3,placeholder:"Расскажите команде детали или ссылки"})})]}),w?(0,r.jsx)("div",{className:"rounded-xl border border-red-200 bg-red-50 px-3 py-2 text-sm text-red-600",role:"alert",children:w}):null,(0,r.jsx)("div",{className:"flex justify-end",children:(0,r.jsx)(u.$n,{type:"submit",disabled:E.isPending,children:E.isPending?"Сохраняем…":"Добавить задачу"})})]})}),S?(0,r.jsx)(u.Zp,{className:"border-red-200/80 bg-red-50 text-sm text-red-700",role:"alert",children:S}):null,$?(0,r.jsx)(u.Zp,{className:"border-red-200/80 bg-red-50 text-sm text-red-700",role:"alert",children:$}):null,(0,r.jsxs)(u.Zp,{surface:"soft",className:"grid gap-4 md:grid-cols-3",children:[(0,r.jsxs)("div",{className:"rounded-xl border border-subtle bg-[var(--surface-0)] px-4 py-3 text-center",children:[(0,r.jsx)("div",{className:"text-xs font-medium uppercase tracking-wide text-muted",children:"Выполнено"}),(0,r.jsx)("div",{className:"mt-1 text-2xl font-semibold text-[var(--text-primary)]",children:"number"==typeof(null==(e=q.data)?void 0:e.done)?q.data.done:"—"})]}),(0,r.jsxs)("div",{className:"rounded-xl border border-subtle bg-[var(--surface-0)] px-4 py-3 text-center",children:[(0,r.jsx)("div",{className:"text-xs font-medium uppercase tracking-wide text-muted",children:"Актуально"}),(0,r.jsx)("div",{className:"mt-1 text-2xl font-semibold text-[var(--text-primary)]",children:"number"==typeof(null==(t=q.data)?void 0:t.active)?q.data.active:"—"})]}),(0,r.jsxs)("div",{className:"rounded-xl border border-subtle bg-[var(--surface-0)] px-4 py-3 text-center",children:[(0,r.jsx)("div",{className:"text-xs font-medium uppercase tracking-wide text-muted",children:"Отказались"}),(0,r.jsx)("div",{className:"mt-1 text-2xl font-semibold text-[var(--text-primary)]",children:"number"==typeof(null==(a=q.data)?void 0:a.dropped)?q.data.dropped:"—"})]})]}),(0,r.jsxs)(u.Zp,{padded:!1,className:"overflow-hidden",children:[(0,r.jsxs)("div",{className:"flex flex-wrap items-center justify-between gap-3 border-b border-subtle bg-surface-soft px-5 py-4",children:[(0,r.jsx)("div",{className:"text-sm font-semibold text-[var(--text-primary)]",children:"Мои задачи"}),(0,r.jsx)(u.$n,{type:"button",variant:"outline",size:"sm",onClick:()=>{C.refetch(),q.refetch()},disabled:C.isFetching,children:"Обновить"})]}),(0,r.jsx)("div",{className:"overflow-x-auto",children:(0,r.jsxs)("table",{className:"min-w-full table-fixed border-collapse text-sm",children:[(0,r.jsx)("thead",{className:"bg-surface-soft text-left text-xs uppercase tracking-wide text-muted",children:(0,r.jsxs)("tr",{children:[(0,r.jsx)("th",{className:"px-5 py-3 font-medium",children:"ID"}),(0,r.jsx)("th",{className:"px-5 py-3 font-medium",children:"Название"}),(0,r.jsx)("th",{className:"px-5 py-3 font-medium",children:"Статус"}),(0,r.jsx)("th",{className:"px-5 py-3 font-medium",children:"Контроль"}),(0,r.jsx)("th",{className:"px-5 py-3 font-medium",children:"Наблюдение"}),(0,r.jsx)("th",{className:"px-5 py-3 font-medium",children:"Срок"}),(0,r.jsx)("th",{className:"px-5 py-3 font-medium",children:"Время"}),(0,r.jsx)("th",{className:"px-5 py-3 font-medium",children:"Действия"})]})}),(0,r.jsx)("tbody",{children:L?Array.from({length:3}).map((e,t)=>(0,r.jsxs)("tr",{className:"animate-pulse border-t border-subtle-soft",children:[(0,r.jsx)("td",{className:"px-5 py-3",children:(0,r.jsx)("div",{className:"h-3 w-10 rounded-full bg-surface-soft"})}),(0,r.jsx)("td",{className:"px-5 py-3",children:(0,r.jsx)("div",{className:"h-3 w-40 rounded-full bg-surface-soft"})}),(0,r.jsx)("td",{className:"px-5 py-3",children:(0,r.jsx)("div",{className:"h-3 w-20 rounded-full bg-surface-soft"})}),(0,r.jsx)("td",{className:"px-5 py-3",children:(0,r.jsx)("div",{className:"h-3 w-28 rounded-full bg-surface-soft"})}),(0,r.jsx)("td",{className:"px-5 py-3",children:(0,r.jsx)("div",{className:"h-3 w-14 rounded-full bg-surface-soft"})}),(0,r.jsx)("td",{className:"px-5 py-3",children:(0,r.jsx)("div",{className:"h-3 w-24 rounded-full bg-surface-soft"})}),(0,r.jsx)("td",{className:"px-5 py-3",children:(0,r.jsx)("div",{className:"h-3 w-32 rounded-full bg-surface-soft"})}),(0,r.jsx)("td",{className:"px-5 py-3",children:(0,r.jsx)("div",{className:"h-3 w-20 rounded-full bg-surface-soft"})})]},"loading-".concat(t))):A?(0,r.jsx)("tr",{children:(0,r.jsx)("td",{colSpan:8,className:"px-6 py-8 text-center text-sm text-muted",children:"Задач пока нет — создайте первую или скорректируйте фильтры."})}):z.map(e=>{let t=!!e.running_entry_id,a=!!e.control_enabled,s=a?"".concat("done"===e.control_status?"Завершён":"Активен").concat(e.control_frequency?" / ".concat(e.control_frequency," мин"):""):"done"===e.control_status?"Выполнена":"—",l=a&&e.control_next_at?o(e.control_next_at):null;return(0,r.jsxs)("tr",{className:"border-t border-subtle",children:[(0,r.jsxs)("td",{className:"px-5 py-3 font-mono text-xs text-muted",children:["#",e.id]}),(0,r.jsxs)("td",{className:"px-5 py-3 text-sm text-[var(--text-primary)]",children:[(0,r.jsx)("div",{className:"font-medium",children:e.title}),e.description?(0,r.jsx)("div",{className:"text-xs text-muted",children:e.description}):null]}),(0,r.jsx)("td",{className:"px-5 py-3 text-sm capitalize text-[var(--text-primary)]",children:e.status}),(0,r.jsxs)("td",{className:"px-5 py-3 text-sm text-[var(--text-primary)]",children:[s,l?(0,r.jsxs)("div",{className:"text-xs text-muted",children:["след.: ",l]}):null]}),(0,r.jsx)("td",{className:"px-5 py-3 text-sm text-[var(--text-primary)]",children:e.is_watched?"Да":"—"}),(0,r.jsx)("td",{className:"px-5 py-3 text-sm text-[var(--text-primary)]",children:e.due_date?o(e.due_date):"—"}),(0,r.jsx)("td",{className:"px-5 py-3 text-sm text-[var(--text-primary)]",children:function(e){let t=Math.max(0,Math.floor(e)),a=Math.floor(t/60),r=t%60;return a>0?"".concat(a," ч ").concat(r," мин"):"".concat(r," мин")}(e.tracked_minutes)}),(0,r.jsx)("td",{className:"px-5 py-3",children:(0,r.jsxs)("div",{className:"flex flex-wrap gap-2",children:[(0,r.jsx)(u.$n,{type:"button",size:"sm",variant:t?"danger":"primary",onClick:()=>t?P.mutate(e.id):O.mutate(e.id),disabled:(null==I?void 0:I.taskId)===e.id&&"stop"===I.type&&t||(null==I?void 0:I.taskId)===e.id&&"start"===I.type&&!t,children:t?"Стоп":e.tracked_minutes>0?"Продолжить":"Старт"}),(0,r.jsx)(u.$n,{type:"button",size:"sm",variant:"secondary",onClick:()=>Z.mutate(e.id),disabled:(null==I?void 0:I.taskId)===e.id&&"done"===I.type,children:"Готово"})]})})]},e.id)})})]})})]})]})}},8185:(e,t,a)=>{"use strict";a.d(t,{A:()=>n});var r=a(5155);a(2115);var s=a(2235),l=a(526),i=a(6128);function n(e){let{title:t,subtitle:a,description:n,actions:d,contentClassName:c,children:o}=e;return(0,r.jsx)(s.default,{title:t,subtitle:a,actions:d,children:(0,r.jsxs)(i.w,{className:(0,l.cn)("p-6 md:p-8",c),spacing:"lg","aria-labelledby":"page-title","data-testid":"page-layout",children:[(0,r.jsxs)("header",{className:"flex flex-col gap-2",children:[(0,r.jsx)("h1",{id:"page-title",className:"text-xl font-semibold tracking-tight text-[var(--text-primary)]","data-testid":"page-title",children:t}),n?(0,r.jsx)("p",{className:"text-sm text-muted",children:n}):null]}),o]})})}}},e=>{e.O(0,[652,743,454,889,195,441,255,358],()=>e(e.s=720)),_N_E=e.O()}]);