# Экономика привычек

Документ описывает формулы наград и штрафов в модуле привычек.

## Награды
- Базовый опыт и золото определяются сложностью (`XP_BASE`, `GOLD_BASE`).
- При включённой анти-фарм механике награда уменьшается экспоненциально в
  течение дня: `reward = base * exp(-k * n_today)`, где `k = REWARD_DECAY_K`,
  `n_today` — количество положительных действий по привычке за текущий день.
- После достижения мягкого дневного лимита (`daily_limit`) опыт и золото не
  начисляются, но клик остаётся возможным.

## Кулдаун
- Минимальный интервал между действиями задаётся `cooldown_sec`.
- Повторное действие раньше истечения кулдауна приводит к ошибке `cooldown`.

## Штрафы
- Отрицательные действия всегда применяют штраф к здоровью (`HP_BASE`) и
  обходят дневной лимит, но всё равно учитывают кулдаун.

## Ежедневные счётчики
- `user_stats.daily_xp` и `user_stats.daily_gold` накапливают полученные за
  день награды и сбрасываются ежедневным кроном.

