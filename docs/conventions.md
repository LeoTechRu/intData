# Conventions Catalog

Здесь фиксируются правила разработки и документирования, которые выводятся из `vision.md`, исторических решений и lessons learned. Файл служит единой точкой правды для стайлгайдов всего репозитория.

## Как пользоваться
1. Перед началом задачи прочитайте соответствующий раздел.
2. Если в ходе работы возникает необходимость обновить правила — обсудите в `vision.md`, затем отразите обновление здесь, приложив ссылку на решение.
3. При код-ревью и автоматических проверках ссылайтесь на конкретные пункты `conventions.md`.

## Разделы (шаблон)
- **Git & ветки** — формат веток, коммитов, PR.
- **Документация** — как вести idea/vision/tasklist/guides.
- **Фронтенд** — стайлгайд Next.js, React, Tailwind.
- **Бэкенд** — Python, FastAPI, SQL.
- **Тесты** — уровни, инструменты, naming.
- **Инфраструктура** — деплой, конфигурации, observability.

*(Наполните разделы по мере утверждения правил.)*

## Фронтенд
- Используем компонент `TermHint` для пояснения непонятных терминов (slug, Telegram ID, CRM-метрики и др.). Любой новый UI обязан добавлять тултип, если термин не очевиден основной аудитории.
- Кнопки связи с техподдержкой и разработчиком отображаем только при наличии соответствующего тарифа (см. `AppShell`: флаги `hasPaidSupport` и `hasDeveloperContact`).
- Плашку с ролью пользователя в `AppShell` показываем только на ширинах `lg` и шире, чтобы мобильная шапка не ломалась; на узких экранах оставляем аватар и имя.
- Редактор дашборда (перетаскивание и палитра виджетов) доступен только на десктопе (`min-width: 768px`); на мобильных отображаем статичную сетку без управляющих кнопок.
- Боковая навигация AppShell строится по секциям (Пульт, Календарь, Задачи, Знания, Команда, Администрирование) с одноуровневыми списками. Секции могут сворачиваться, но скрытые пункты остаются в редакторе; источником правды служит `NAV_BLUEPRINT` (см. vision «Modular Navigation»).
- Всё левое меню — избранные страницы пользователя: каждый пункт присутствует в единственном экземпляре и может быть только показан или скрыт. Звёздочка в заголовке управляет видимостью пункта и синхронизируется с редактором навигации.
- Для модулей с несколькими страницами добавляем верхние вкладки `ModuleTabs`, которые адаптируются под ширины 360–1440 px и позволяют переходить между связанным функционалом без изменения контекста.

