# Workflow Playbook

`workflow.md` описывает, как агенты codex-cli преобразуют `tasklist.md` в выполненную работу, следуя `vision.md` и `conventions.md`.

## Базовый цикл
1. **Синхронизация** — свериться с Agent Sync (в `docs/BACKLOG.md`), актуальными замками и `tasklist.md`.
2. **Анализ** — прочитать соответствующие записи в `vision.md` и `conventions.md`.
3. **План** — составить план (используя `update_plan`), сославшись на связанную задачу.
4. **Исполнение** — работать строго в рамках забронированных файлов, регулярно обновляя замок/таблицу.
5. **Документация** — при изменении правил обновлять `conventions.md`, `workflow.md`, `guides/` при необходимости.
6. **Завершение** — push в свою ветку, обновление Agent Sync, фиксация результатов в `tasklist.md` / `docs/CHANGELOG.md`.

## Правила для нескольких сессий
- Никогда не модифицируйте файл, который заблокирован другой сессией в Agent Sync или lock-файле.
- Если требуется общий файл, инициируйте синхронизацию (комментарий в Agent Sync + ожидание ответа).
- Все временные решения фиксируйте в `idea.md`/`vision.md`, а не в комментариях коммитов.

## Эскалация
- При конфликте в репозитории — остановить работу и задокументировать ситуацию в `workflow.md` (раздел «Инциденты»).
- После урегулирования переложить lessons learned в `conventions.md`.

## Инциденты
- *(пока пусто)*
