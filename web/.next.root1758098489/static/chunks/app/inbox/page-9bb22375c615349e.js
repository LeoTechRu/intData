(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[329],{435:(e,t,s)=>{"use strict";s.d(t,{default:()=>f});var r=s(5155),a=s(2619),l=s.n(a),i=s(2115),n=s(9776),o=s(2454),c=s(549),d=s(7621);let x="intdata.inbox.momentum.v1";function u(){try{let e=window.localStorage.getItem(x);if(!e)return{streak:0,todayCount:0,lastProcessed:null};let t=JSON.parse(e);if("number"==typeof(null==t?void 0:t.streak)&&"number"==typeof(null==t?void 0:t.todayCount)&&("string"==typeof(null==t?void 0:t.lastProcessed)||(null==t?void 0:t.lastProcessed)===null))return t}catch(e){console.warn("Failed to read Inbox momentum state",e)}return{streak:0,todayCount:0,lastProcessed:null}}function m(e){return new Intl.NumberFormat("ru-RU").format(e)}function f(){var e,t,s,a,l,f,v,h,j,y;let N=(0,n.jE)(),w=function(){let[e,t]=(0,i.useState)(()=>u());(0,i.useEffect)(()=>{t(u())},[]);let s=function(e){let t=new Date(e);return t.setHours(0,0,0,0),t.toISOString().slice(0,10)}(new Date),r=(0,i.useCallback)(()=>{t(e=>{let t=function(e,t){if(!e)return null;let s=new Date(e),r=new Date(t);if(Number.isNaN(s.getTime())||Number.isNaN(r.getTime()))return null;let a=new Date(s),l=new Date(r);return a.setHours(0,0,0,0),l.setHours(0,0,0,0),Math.round((l.getTime()-a.getTime())/864e5)}(e.lastProcessed,s),r=e.lastProcessed===s,a={streak:r?e.streak:1===t?e.streak+1:1,todayCount:r?e.todayCount+1:1,lastProcessed:s};try{window.localStorage.setItem(x,JSON.stringify(a))}catch(e){console.warn("Failed to persist Inbox momentum state",e)}return a})},[s]),a=Math.min(1,e.todayCount/5),l=Math.round(100*a);return{streak:e.streak,todayCount:e.todayCount,progress:a,percent:l,target:5,registerProcessed:r}}(),[k,I]=(0,i.useState)({target:"area",areaId:"",projectId:""}),[C,T]=(0,i.useState)(!1),[M,L]=(0,i.useState)(0),P=(0,o.I)({queryKey:["areas"],staleTime:6e4,gcTime:3e5,queryFn:()=>(0,d.nr)("/api/v1/areas")}),S=null!=(e=P.data)?e:[],_=(0,i.useMemo)(()=>(function(e){var t;let s=["inbox","входящие","нераспределенные","неразобранные"],r=e.find(e=>"inbox"===(e.slug||"").toLowerCase());return r||(null!=(t=e.find(e=>{let t=e.name.toLowerCase();return s.some(e=>t.includes(e))}))?t:null)})(S),[S]),q=null!=(t=null==_?void 0:_.name)?t:"Входящие",D=(0,o.I)({queryKey:["inbox","notes"],staleTime:15e3,gcTime:12e4,retry:!1,queryFn:()=>(0,d.nr)("/api/v1/inbox/notes")}),F=null!=(s=D.data)?s:[],E=(0,o.I)({queryKey:["inbox","tasks",null!=(a=null==_?void 0:_.id)?a:0],enabled:!!(null==_?void 0:_.id),staleTime:15e3,gcTime:12e4,retry:!1,queryFn:()=>{if(!(null==_?void 0:_.id))return Promise.resolve([]);let e=(0,d.Zq)({area_id:_.id,include_sub:0});return(0,d.nr)("/api/v1/tasks".concat(e))}}),O=null!=(l=E.data)?l:[],K=(0,i.useMemo)(()=>O.filter(e=>"done"!==e.status&&"archived"!==e.status),[O]),A=(0,o.I)({queryKey:["inbox","projects",null!=(f=null==_?void 0:_.id)?f:0],enabled:!!(null==_?void 0:_.id),staleTime:6e4,gcTime:3e5,retry:!1,queryFn:()=>{if(!(null==_?void 0:_.id))return Promise.resolve([]);let e=(0,d.Zq)({area_id:_.id,include_sub:0});return(0,d.nr)("/api/v1/projects".concat(e))}}),H=null!=(v=A.data)?v:[],R=(0,o.I)({queryKey:["resources"],staleTime:6e4,gcTime:3e5,retry:!1,queryFn:()=>(0,d.nr)("/api/v1/resources")}),Z=null!=(h=R.data)?h:[],J=(0,o.I)({queryKey:["inbox","calendar",null!=(j=null==_?void 0:_.id)?j:0],enabled:!!(null==_?void 0:_.id),staleTime:6e4,gcTime:3e5,retry:!1,queryFn:()=>{if(!(null==_?void 0:_.id))return Promise.resolve([]);let e=new Date,t=new Date(e.getTime()-6048e5),s=new Date(e.getTime()+5184e6),r=(0,d.Zq)({from:t.toISOString(),to:s.toISOString(),area_id:_.id});return(0,d.nr)("/api/v1/calendar/agenda".concat(r))}}),U=null!=(y=J.data)?y:[],z=(0,i.useMemo)(()=>F.map(e=>{var t;return{kind:"note",id:e.id,title:(null==(t=e.title)?void 0:t.trim())||"Без названия",content:e.content}}),[F]);(0,i.useEffect)(()=>{C?M>=z.length&&L(Math.max(0,z.length-1)):L(0)},[z.length,M,C]);let{mutateAsync:B,isPending:Q,error:V}=(0,c.n)({mutationFn:async e=>{let{noteId:t,target:s,containerId:r}=e;return(0,d.nr)("/api/v1/notes/".concat(t,"/assign"),{method:"POST",body:JSON.stringify({container_type:s,container_id:r})})},onSuccess:(e,t)=>{N.setQueryData(["inbox","notes"],e=>null==e?void 0:e.filter(e=>e.id!==t.noteId)),w.registerProcessed()}}),W=(0,i.useCallback)(async()=>{let e=z[M];if(e){if("area"===k.target){let t=k.areaId?Number(k.areaId):null;if(!t)return;await B({noteId:e.id,target:"area",containerId:t})}else{let t=k.projectId?Number(k.projectId):null;if(!t)return;await B({noteId:e.id,target:"project",containerId:t})}I(e=>({...e}))}},[B,k.areaId,k.projectId,k.target,z]),G=Q||!z[M]||("area"===k.target?!k.areaId:!k.projectId),X=F.length+K.length+H.length+U.length,Y=X+Z.length,$=P.isLoading||D.isLoading||E.isLoading||A.isLoading||J.isLoading||R.isLoading,ee=P.isError||D.isError||E.isError||A.isError||J.isError||R.isError,et=z[M],es=z[0],er=(0,i.useMemo)(()=>S.filter(e=>!_||e.id!==_.id),[S,_]),ea="inbox-assign-area",el="inbox-assign-project";return(0,r.jsxs)("div",{className:"flex flex-col gap-8",children:[(0,r.jsx)("section",{className:"overflow-hidden rounded-2xl border border-subtle bg-gradient-to-br from-[var(--surface-0)] via-[var(--surface-0)] to-[var(--accent-primary-soft)] p-6 text-[var(--text-primary)] md:p-10",children:(0,r.jsxs)("div",{className:"flex flex-col gap-6 md:flex-row md:items-center md:justify-between",children:[(0,r.jsxs)("div",{className:"flex max-w-2xl flex-col gap-4",children:[(0,r.jsx)("span",{className:"inline-flex w-fit items-center gap-2 rounded-full bg-[var(--accent-primary-soft)] px-3 py-1 text-xs font-semibold uppercase tracking-[0.2em] text-[var(--accent-primary)]",children:"Входящие"===q?"Входящие":"".concat(q," \xb7 Inbox")}),(0,r.jsx)("h2",{className:"text-2xl font-semibold tracking-tight sm:text-3xl",children:"Центральное место для всех неразобранных идей, задач и событий"}),(0,r.jsxs)("p",{className:"text-base text-muted",children:["Всё, что попадает в ",q,", автоматически относится к системной области \xabНеразобранные\xbb. Разберите элементы — назначьте их в проект или конкретную область — и они исчезнут из этого списка, чтобы не превращаться в потеряшки."]}),(0,r.jsxs)("ul",{className:"flex flex-wrap gap-3 text-sm text-muted",children:[(0,r.jsxs)("li",{className:"inline-flex items-center gap-2 rounded-full bg-surface-soft px-3 py-1",children:[(0,r.jsx)("span",{className:"h-2 w-2 rounded-full bg-[var(--accent-primary)]"}),"Заметки, идеи, клипперы"]}),(0,r.jsxs)("li",{className:"inline-flex items-center gap-2 rounded-full bg-surface-soft px-3 py-1",children:[(0,r.jsx)("span",{className:"h-2 w-2 rounded-full bg-emerald-500/80"}),"Задачи и таймеры без проекта"]}),(0,r.jsxs)("li",{className:"inline-flex items-center gap-2 rounded-full bg-surface-soft px-3 py-1",children:[(0,r.jsx)("span",{className:"h-2 w-2 rounded-full bg-sky-500/80"}),"События календаря без контекста"]}),(0,r.jsxs)("li",{className:"inline-flex items-center gap-2 rounded-full bg-surface-soft px-3 py-1",children:[(0,r.jsx)("span",{className:"h-2 w-2 rounded-full bg-amber-500/80"}),"Черновики проектов и ресурсов"]})]})]}),(0,r.jsxs)("div",{className:"flex w-full max-w-sm flex-col gap-4 rounded-2xl border border-subtle bg-[var(--surface-0)] p-5 shadow-soft",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsx)("span",{className:"text-sm font-medium text-muted",children:"Серия разборов"}),(0,r.jsxs)("span",{className:"text-xs font-semibold uppercase tracking-[0.2em] text-[var(--accent-primary)]",children:[w.streak," дней"]})]}),(0,r.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,r.jsxs)("div",{className:"flex items-end justify-between",children:[(0,r.jsx)("div",{className:"text-3xl font-semibold text-[var(--text-primary)]",children:w.todayCount}),(0,r.jsxs)("div",{className:"text-sm text-muted",children:["из ",5," целей на сегодня"]})]}),(0,r.jsx)("div",{className:"h-2 w-full overflow-hidden rounded-full bg-surface-soft",children:(0,r.jsx)("div",{className:"h-2 rounded-full bg-[var(--accent-primary)] transition-all duration-500",style:{width:"".concat(w.percent,"%")},"aria-hidden":!0})})]}),(0,r.jsx)("button",{type:"button",onClick:()=>T(!0),className:"inline-flex items-center justify-center gap-2 rounded-xl bg-[var(--accent-primary)] px-4 py-2 text-sm font-semibold text-[var(--accent-on-primary)] transition-base hover:opacity-90 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-[var(--accent-primary)] focus-visible:ring-offset-2 focus-visible:ring-offset-[var(--surface-0)]",children:"Начать фокус-сессию"}),X>12?(0,r.jsx)("p",{className:"text-xs text-amber-600",children:"Входящие растут быстрее, чем вы их разбираете. Забронируйте время в календаре и вернитесь с новым фокусом."}):(0,r.jsxs)("p",{className:"text-xs text-muted",children:["Разбирайте хотя бы ",5," элементов в день, чтобы не копить хвосты и держать мозг свободным."]})]})]})}),(0,r.jsxs)("section",{className:"grid gap-4 md:grid-cols-2 xl:grid-cols-4",children:[(0,r.jsx)(p,{title:"Заметки",value:m(F.length),hint:"Быстрые захваты из бота и веб-форм",trend:0===F.length?"Все разобраны":"".concat(F.length," ожидают назначения")}),(0,r.jsx)(p,{title:"Задачи",value:m(K.length),hint:"Требуют распределения или уточнения",trend:0===K.length?"Нет задач в Inbox":"Проверьте статусы и дедлайны",badge:"PARA"}),(0,r.jsx)(p,{title:"События",value:m(U.length),hint:"Появились без проекта/области",trend:0===U.length?"Календарь чист":"Назначьте контекст",badge:"Calendar"}),(0,r.jsx)(p,{title:"Ресурсы",value:m(Z.length),hint:"Сохранённые материалы и клипы",trend:0===Z.length?"Ничего не ждёт":"Подберите им место",badge:"Knowledge"})]}),(0,r.jsxs)("section",{className:"grid gap-6 xl:grid-cols-[minmax(0,1.1fr)_minmax(0,0.9fr)]",children:[(0,r.jsxs)("div",{className:"flex flex-col gap-4 rounded-2xl border border-subtle bg-[var(--surface-0)] p-6",children:[(0,r.jsxs)("header",{className:"flex flex-col gap-1",children:[(0,r.jsx)("h3",{className:"text-lg font-semibold text-[var(--text-primary)]",children:"Фокус-сессия Inbox Zero"}),(0,r.jsx)("p",{className:"text-sm text-muted",children:"Просматривайте элементы по одному и сразу назначайте им место в PARA."})]}),$?(0,r.jsxs)("div",{className:"flex flex-col gap-3",children:[(0,r.jsx)(g,{}),(0,r.jsx)(g,{}),(0,r.jsx)(g,{})]}):C?0===z.length?(0,r.jsxs)("div",{className:"flex flex-col items-center gap-4 rounded-xl border border-dashed border-subtle-soft bg-surface-soft p-8 text-center",children:[(0,r.jsxs)("svg",{"aria-hidden":!0,className:"h-10 w-10 text-muted",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:1.5,children:[(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8 7h8M8 11h8M9 15h6"}),(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5 5h14a2 2 0 012 2v10a2 2 0 01-2 2H5a2 2 0 01-2-2V7a2 2 0 012-2z"})]}),(0,r.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,r.jsx)("h4",{className:"text-base font-semibold text-[var(--text-primary)]",children:"Все входящие разобраны"}),(0,r.jsx)("p",{className:"text-sm text-muted",children:"Создайте новую заметку, задачу или событие — они появятся здесь и будут ждать назначения."})]})]}):(0,r.jsxs)("div",{className:"flex flex-col gap-4",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between text-sm text-muted",children:[(0,r.jsxs)("span",{children:["Элемент ",M+1," из ",z.length]}),(0,r.jsx)("button",{type:"button",className:"inline-flex items-center gap-2 rounded-lg px-2 py-1 font-medium text-[var(--accent-primary)] transition-base hover:bg-[var(--accent-primary-soft)] focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-[var(--accent-primary)] focus-visible:ring-offset-2 focus-visible:ring-offset-[var(--surface-0)]",onClick:()=>{T(!1),L(0)},children:"Скрыть фокус"})]}),(0,r.jsxs)("article",{className:"flex flex-col gap-3 rounded-xl border border-subtle bg-surface-soft p-5",children:[(0,r.jsxs)("header",{className:"flex flex-col gap-1",children:[(0,r.jsx)("div",{className:"text-xs font-semibold uppercase tracking-[0.2em] text-muted",children:"Заметка"}),(0,r.jsx)("h4",{className:"text-lg font-semibold text-[var(--text-primary)]",children:null==et?void 0:et.title})]}),(0,r.jsx)("p",{className:"whitespace-pre-wrap text-sm leading-relaxed text-[var(--text-primary)]",children:null==et?void 0:et.content})]}),(0,r.jsxs)("div",{className:"grid gap-4 md:grid-cols-[minmax(0,0.5fr)_minmax(0,0.5fr)]",children:[(0,r.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,r.jsx)("label",{htmlFor:"assign-target",className:"text-xs font-medium uppercase tracking-[0.2em] text-muted",children:"Куда отправить"}),(0,r.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,r.jsx)("button",{type:"button",className:"rounded-lg border px-3 py-2 text-sm font-semibold transition-base focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-[var(--accent-primary)] focus-visible:ring-offset-2 focus-visible:ring-offset-[var(--surface-0)] ".concat("area"===k.target?"border-[var(--accent-primary)] bg-[var(--accent-primary-soft)] text-[var(--text-primary)]":"border-subtle text-muted hover:text-[var(--text-primary)]"),onClick:()=>I(e=>({...e,target:"area"})),children:"Область"}),(0,r.jsx)("button",{type:"button",className:"rounded-lg border px-3 py-2 text-sm font-semibold transition-base focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-[var(--accent-primary)] focus-visible:ring-offset-2 focus-visible:ring-offset-[var(--surface-0)] ".concat("project"===k.target?"border-[var(--accent-primary)] bg-[var(--accent-primary-soft)] text-[var(--text-primary)]":"border-subtle text-muted hover:text-[var(--text-primary)]"),onClick:()=>I(e=>({...e,target:"project"})),children:"Проект"})]})]}),(0,r.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,r.jsx)("label",{htmlFor:"area"===k.target?ea:el,className:"text-xs font-medium uppercase tracking-[0.2em] text-muted",children:"area"===k.target?"Выберите область":"Выберите проект"}),"area"===k.target?(0,r.jsxs)("select",{id:ea,className:"w-full rounded-lg border border-subtle bg-[var(--surface-0)] px-3 py-2 text-sm text-[var(--text-primary)] focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-[var(--accent-primary)]",value:k.areaId,onChange:e=>I(t=>({...t,areaId:e.target.value,projectId:""})),children:[(0,r.jsx)("option",{value:"",children:"Назначить область"}),er.map(e=>(0,r.jsx)("option",{value:e.id,children:e.name},e.id))]}):(0,r.jsxs)("select",{id:el,className:"w-full rounded-lg border border-subtle bg-[var(--surface-0)] px-3 py-2 text-sm text-[var(--text-primary)] focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-[var(--accent-primary)]",value:k.projectId,onChange:e=>I(t=>({...t,projectId:e.target.value})),children:[(0,r.jsx)("option",{value:"",children:"Выберите проект"}),H.map(e=>(0,r.jsx)("option",{value:e.id,children:e.name},e.id))]})]})]}),V instanceof d.hD?(0,r.jsx)("p",{className:"rounded-lg border border-red-500/40 bg-red-100/60 px-3 py-2 text-sm text-red-600",children:V.message}):null,(0,r.jsxs)("div",{className:"flex flex-col gap-2 sm:flex-row sm:items-center sm:justify-between",children:[(0,r.jsx)("button",{type:"button",className:"inline-flex items-center justify-center gap-2 rounded-xl bg-[var(--accent-primary)] px-4 py-2 text-sm font-semibold text-[var(--accent-on-primary)] transition-base hover:opacity-90 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-[var(--accent-primary)] focus-visible:ring-offset-2 focus-visible:ring-offset-[var(--surface-0)] disabled:cursor-not-allowed disabled:opacity-60",onClick:W,disabled:G,children:Q?"Сохраняю…":"Сохранить и дальше"}),(0,r.jsx)("button",{type:"button",className:"inline-flex items-center justify-center rounded-xl px-4 py-2 text-sm font-semibold text-muted transition-base hover:text-[var(--text-primary)] focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-[var(--accent-primary)] focus-visible:ring-offset-2 focus-visible:ring-offset-[var(--surface-0)]",onClick:()=>L(e=>Math.min(e+1,z.length)),disabled:!z[M+1],children:"Пропустить"})]})]}):(0,r.jsxs)("div",{className:"flex flex-col gap-4 rounded-xl border border-dashed border-subtle-soft bg-surface-soft p-6",children:[(0,r.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,r.jsx)("h4",{className:"text-base font-semibold text-[var(--text-primary)]",children:"Готовы разобраться?"}),(0,r.jsx)("p",{className:"text-sm text-muted",children:"Запустите фокус-сессию, чтобы просматривать элементы по одному и назначать им область или проект без переключений."}),es?(0,r.jsxs)("div",{className:"rounded-lg border border-subtle bg-[var(--surface-0)] p-4",children:[(0,r.jsx)("div",{className:"text-xs font-semibold uppercase tracking-[0.2em] text-muted",children:"Следующий в очереди"}),(0,r.jsx)("div",{className:"mt-1 text-sm font-medium text-[var(--text-primary)]",children:es.title}),(0,r.jsxs)("p",{className:"mt-1 text-sm text-muted",children:[es.content.substring(0,140),es.content.length>140?"…":""]})]}):null]}),(0,r.jsxs)("div",{className:"flex flex-wrap items-center gap-3",children:[(0,r.jsx)("button",{type:"button",onClick:()=>T(!0),className:"inline-flex items-center justify-center gap-2 rounded-xl bg-[var(--accent-primary)] px-4 py-2 text-sm font-semibold text-[var(--accent-on-primary)] transition-base hover:opacity-90 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-[var(--accent-primary)] focus-visible:ring-offset-2 focus-visible:ring-offset-[var(--surface-0)]",children:"Начать разбор"}),(0,r.jsxs)("span",{className:"text-xs text-muted",children:["Осталось ",m(z.length)," элементов"]})]})]})]}),(0,r.jsxs)("div",{className:"flex flex-col gap-4 rounded-2xl border border-subtle bg-[var(--surface-0)] p-6",children:[(0,r.jsxs)("header",{className:"flex flex-col gap-1",children:[(0,r.jsx)("h3",{className:"text-lg font-semibold text-[var(--text-primary)]",children:"Очередь на разбор"}),(0,r.jsx)("p",{className:"text-sm text-muted",children:"Краткий обзор всего, что ещё нужно распаковать из Inbox."})]}),(0,r.jsxs)("div",{className:"flex flex-col gap-4",children:[(0,r.jsx)(b,{title:"Заметки",items:F.map(e=>{var t;return{id:e.id,title:(null==(t=e.title)?void 0:t.trim())||"Без названия",description:e.content.substring(0,140)}}),emptyMessage:"Нет заметок в ожидании",actionLabel:"Открыть заметки",href:"/notes"}),(0,r.jsx)(b,{title:"Задачи",items:K.map(e=>{var t;return{id:e.id,title:e.title,description:null!=(t=e.description)?t:"Задача из Inbox"}}),emptyMessage:"Все задачи распределены",actionLabel:"Управлять задачами",href:"/tasks"}),(0,r.jsx)(b,{title:"События",items:U.map(e=>({id:e.id,title:e.title,description:e.start_at?"Запланировано на ".concat(function(e){try{let t=new Date(e);return new Intl.DateTimeFormat("ru-RU",{day:"numeric",month:"long",hour:"2-digit",minute:"2-digit"}).format(t)}catch(t){return e}}(e.start_at)):"Без даты"})),emptyMessage:"Нет несортированных событий",actionLabel:"Открыть календарь",href:"/calendar"}),(0,r.jsx)(b,{title:"Черновики проектов",items:H.map(e=>({id:e.id,title:e.name,description:"Назначьте проекту область и статус"})),emptyMessage:"Проекты уже распределены",actionLabel:"Открыть проекты",href:"/projects"}),(0,r.jsx)(b,{title:"Ресурсы",items:Z.map(e=>({id:e.id,title:e.title,description:e.type?"Тип: ".concat(e.type):"Сохранённый материал"})),emptyMessage:"Новых материалов нет",actionLabel:"Перейти к ресурсам",href:"/resources"})]}),(0,r.jsxs)("footer",{className:"rounded-xl border border-dashed border-subtle-soft bg-surface-soft px-4 py-3 text-sm text-muted",children:["Всего в очереди: ",m(Y)," элементов. Начните с заметок — это самый быстрый способ поддержать порядок, а затем двигайтесь к задачам и событиям."]})]})]}),ee?(0,r.jsx)("section",{className:"rounded-2xl border border-red-500/40 bg-red-100/60 px-4 py-3 text-sm text-red-600",children:"Не удалось загрузить часть данных Inbox. Попробуйте обновить страницу — если проблема сохраняется, проверьте соединение или повторите попытку позже."}):null]})}function p(e){let{title:t,value:s,hint:a,trend:l,badge:i}=e;return(0,r.jsxs)("article",{className:"flex flex-col gap-3 rounded-2xl border border-subtle bg-[var(--surface-0)] p-5 shadow-soft",children:[(0,r.jsxs)("header",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{className:"text-sm font-semibold text-[var(--text-primary)]",children:t}),(0,r.jsx)("div",{className:"text-xs text-muted",children:a})]}),i?(0,r.jsx)("span",{className:"rounded-full bg-surface-soft px-3 py-1 text-[0.65rem] font-semibold uppercase tracking-[0.2em] text-muted",children:i}):null]}),(0,r.jsx)("div",{className:"text-3xl font-semibold text-[var(--text-primary)]",children:s}),(0,r.jsx)("div",{className:"text-sm text-muted",children:l})]})}function b(e){let{title:t,items:s,emptyMessage:a,actionLabel:i,href:n}=e;return(0,r.jsxs)("section",{className:"flex flex-col gap-3",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsx)("h4",{className:"text-sm font-semibold uppercase tracking-[0.2em] text-muted",children:t}),(0,r.jsx)(l(),{href:n,className:"inline-flex items-center gap-2 text-xs font-semibold uppercase tracking-[0.2em] text-[var(--accent-primary)] transition-base hover:opacity-80",children:i})]}),0===s.length?(0,r.jsx)("div",{className:"rounded-xl border border-dashed border-subtle-soft bg-surface-soft px-4 py-6 text-sm text-muted",children:a}):(0,r.jsxs)("ul",{className:"flex flex-col gap-3",children:[s.slice(0,4).map(e=>(0,r.jsxs)("li",{className:"rounded-xl border border-subtle bg-[var(--surface-0)] p-4 shadow-sm",children:[(0,r.jsx)("div",{className:"text-sm font-semibold text-[var(--text-primary)]",children:e.title}),(0,r.jsx)("p",{className:"mt-1 text-sm text-muted",children:e.description})]},e.id)),s.length>4?(0,r.jsxs)("li",{className:"text-xs text-muted",children:["… и ещё ",s.length-4]}):null]})]})}function g(){return(0,r.jsx)("div",{className:"h-3 w-full animate-pulse rounded-full bg-surface-soft"})}},4493:(e,t,s)=>{Promise.resolve().then(s.bind(s,2235)),Promise.resolve().then(s.bind(s,435))}},e=>{e.O(0,[652,743,454,195,441,255,358],()=>e(e.s=4493)),_N_E=e.O()}]);