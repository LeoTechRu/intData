(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{2235:(e,a,t)=>{"use strict";t.d(a,{default:()=>u});var s=t(5155),r=t(2821),l=t(2619),n=t.n(l),i=t(63),d=t(2115),c=t(5704);let o=[{label:"Обзор",route:"/"},{label:"Входящие",route:"/inbox"},{label:"Области",route:"/areas",badge:"новый UI"},{label:"Проекты",route:"/projects",badge:"новый UI"},{label:"Команда",route:"/users",badge:"новый UI"},{label:"Ресурсы",route:"/resources",badge:"новый UI"},{label:"Задачи",route:"/tasks",badge:"новый UI"},{label:"Привычки",route:"/habits",badge:"новый UI"}];function u(e){let{title:a,subtitle:t,actions:l,children:u}=e,m=(0,i.usePathname)(),[f,x]=(0,d.useState)(!1),[b,p]=(0,d.useState)(!1),[h,g]=(0,d.useState)(!1),[v,j]=(0,d.useState)(!1);(0,d.useEffect)(()=>{x(!1)},[m]),(0,d.useEffect)(()=>{if("function"!=typeof window.matchMedia)return;let e=window.matchMedia("(min-width: 768px)");g(e.matches);let a=e=>{g(e.matches),e.matches&&x(!1)};return"function"==typeof e.addEventListener?(e.addEventListener("change",a),()=>e.removeEventListener("change",a)):(e.addListener(a),()=>e.removeListener(a))},[]),(0,d.useEffect)(()=>{j(!0),"1"===window.localStorage.getItem("appShell.sidebarCollapsed")&&p(!0)},[]),(0,d.useEffect)(()=>{v&&window.localStorage.setItem("appShell.sidebarCollapsed",b?"1":"0")},[b,v]);let y=h?b?"Показать меню":"Скрыть меню":f?"Скрыть меню":"Показать меню",w=(0,d.useMemo)(()=>(function(){var e;let a=null!=(e=c.env.NEXT_PUBLIC_LEGACY_APP_BASE)?e:"";return o.map(e=>{var t,s;return"route"in e?{href:e.route,label:e.label,badge:e.badge}:a?{href:"".concat(a).concat(e.legacy),label:e.label,badge:null!=(t=e.badge)?t:"legacy",external:!0}:{href:"#",label:e.label,badge:null!=(s=e.badge)?s:"legacy",disabled:!0}})})().map(e=>{let a=!!m&&!e.external&&!e.disabled&&(m===e.href||m.startsWith("".concat(e.href,"/")));return{...e,active:a}}),[m]),N=(0,r.A)("fixed inset-y-0 left-0 z-50 w-72 transform border-r border-subtle bg-[var(--surface-0)] px-4 py-6 transition-transform duration-200 ease-out md:static md:px-5 md:py-8",f?"translate-x-0":"-translate-x-full md:translate-x-0",b?"md:-translate-x-full md:w-0 md:px-0 md:py-0 md:opacity-0 md:pointer-events-none":"md:w-64 md:translate-x-0");return(0,s.jsxs)("div",{className:"flex min-h-screen flex-col bg-surface","data-app-shell":!0,children:[(0,s.jsx)("header",{className:"sticky top-0 z-40 border-b border-subtle bg-[var(--surface-0)] backdrop-blur",children:(0,s.jsxs)("div",{className:"mx-auto flex w-full max-w-6xl items-center gap-4 px-4 py-4 md:px-6",children:[(0,s.jsxs)("button",{type:"button",className:"inline-flex h-9 w-9 items-center justify-center rounded-full bg-surface-soft text-muted transition-base focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-[var(--accent-primary)] md:h-10 md:w-10","aria-label":y,"aria-pressed":h?!b:f,onClick:()=>{if(h)return void p(e=>!e);x(e=>!e)},children:[(0,s.jsx)("span",{className:"sr-only",children:"Меню"}),(0,s.jsx)("svg",{"aria-hidden":!0,className:"h-5 w-5",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:1.5,children:h?b?(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 5l6 7-6 7"}):(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 5l-6 7 6 7"}):f?(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"}):(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 6h18M3 12h18M3 18h18"})})]}),(0,s.jsxs)("div",{className:"flex flex-1 flex-col gap-1",children:[(0,s.jsx)("div",{className:"text-xs font-medium uppercase tracking-[0.16em] text-muted",children:"Intelligent Data Pro"}),(0,s.jsx)("div",{className:"text-lg font-semibold leading-tight md:text-xl",children:a}),t?(0,s.jsx)("div",{className:"text-sm text-muted",children:t}):null]}),l?(0,s.jsx)("div",{className:"flex items-center gap-2",children:l}):null]})}),(0,s.jsxs)("div",{className:"relative flex flex-1",children:[(0,s.jsx)("aside",{className:N,"aria-label":"Главное меню","aria-hidden":b&&!f,children:(0,s.jsx)("nav",{className:"flex flex-col gap-1",children:w.map(e=>{let a=e.label,t=e.disabled?"cursor-not-allowed text-muted opacity-70":e.active?"bg-[var(--accent-primary)] text-[var(--accent-on-primary)] shadow-soft":"text-muted hover:bg-surface-soft hover:text-[var(--text-primary)]",r="".concat("flex items-center justify-between rounded-lg px-4 py-2 text-sm font-medium transition-base"," ").concat(t," ").concat(e.disabled?"":"focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-[var(--accent-primary)] focus-visible:ring-offset-2 focus-visible:ring-offset-[var(--surface-0)]"),l=(0,s.jsxs)("span",{className:"flex items-center gap-2",children:[(0,s.jsx)("span",{children:e.label}),e.badge?(0,s.jsx)("span",{className:"rounded-full bg-[var(--accent-primary-soft)] px-2 py-0.5 text-[0.65rem] uppercase tracking-wide text-[var(--text-primary)]",children:e.badge}):null]});return e.disabled?(0,s.jsx)("span",{className:r,"aria-disabled":!0,children:l},a):e.external?(0,s.jsx)("a",{href:e.href,target:"_blank",rel:"noreferrer",className:r,children:l},a):(0,s.jsx)(n(),{href:e.href,className:r,"aria-current":e.active?"page":void 0,prefetch:!1,children:l},a)})})}),f?(0,s.jsx)("div",{className:"fixed inset-0 z-40 bg-black/40 backdrop-blur-sm md:hidden",role:"presentation",onClick:()=>x(!1)}):null,(0,s.jsx)("div",{className:"flex min-h-full flex-1 justify-center bg-surface",children:(0,s.jsx)("main",{className:"relative z-10 flex w-full max-w-6xl flex-col gap-6 px-4 py-6 md:px-8 md:py-10",children:(0,s.jsx)("div",{className:"rounded-2xl border border-subtle bg-[var(--surface-0)] p-0 shadow-soft",children:u})})})]})]})}},9747:(e,a,t)=>{Promise.resolve().then(t.bind(t,2235)),Promise.resolve().then(t.t.bind(t,2619,23))}},e=>{e.O(0,[652,441,255,358],()=>e(e.s=9747)),_N_E=e.O()}]);