# General
PROJECT_DIR=/sd/intdata
# Обязательная: путь к директории проекта.
PROJECT_VENV=${PROJECT_DIR}/venv
# Обязательная: путь к виртуальному окружению Python.
ENV_FILE=${PROJECT_DIR}/.env
# Обязательно для корректной работы: путь к секретам деплоя
LOG_LEVEL=DEBUG
# Обязательная: уровень логирования (DEBUG/INFO/WARNING/ERROR).

# DB/Redis
DB_USER=intdatadb
# Обязательная: пользователь PostgreSQL.
DB_PASSWORD=StrongPassword
# Обязательная: пароль PostgreSQL.
DB_HOST=localhost
# Обязательная: адрес сервера БД.
DB_PORT=5432
# Необязательная: порт PostgreSQL (по умолчанию 5432).
DB_NAME=intdatadb
# Обязательная: имя базы данных.
DB_BOOTSTRAP=1
# Необязательная: 1 — запускать idempotent DDL при старте, 0 — пропустить.
DB_REPAIR=1
# Необязательная: 1 — выполнять ремонт/бэкфилл, 0 — пропустить.
DEV_INIT_MODELS=0
# Необязательная: 1 — создать модели через SQLAlchemy в dev-режиме, 0 — отключить.
REDIS_HOST=localhost
# Обязательная: адрес сервера Redis.
REDIS_PORT=6379
# Необязательная: порт Redis (по умолчанию 6379).

# Branding (defaults; можно переопределить в /admin/settings)
BRAND_NAME="Intelligent Data Pro"
# Необязательная: отображаемое название продукта.
PUBLIC_URL="https://intdata.pro"
# Обязательная: публичный URL фронтенда.
BOT_LANDING_URL="https://intdata.pro/bot"
# Необязательная: страница лендинга Telegram‑бота.

# Telegram Bot (можно переопределить в /admin/settings; TG_BOT_TOKEN шифруется)
TG_BOT_TOKEN=
# Обязательная: токен Telegram‑бота от @BotFather.
TG_BOT_USERNAME=IntDataBot   # без @
# Обязательная: username бота без символа @.
ADMIN_CHAT_ID=
# Необязательная: ID служебного чата для уведомлений.
ADMIN_TELEGRAM_IDS="137503221"
# Обязательная: список ID администраторов (через запятую).

# Web/Auth
API_URL="http://localhost:5800"
# Обязательная: локальный URL приложения & базовый URL бэкенда для фронтенда Next.js.
LOGIN_CALLBACK_URL="http://localhost:5800/auth/callback"
# Обязательная: адрес обратного вызова авторизации.
SESSION_MAX_AGE=86400
# Обязательная: время жизни сессии в секундах.
TG_LOGIN_ENABLED=1
# Необязательная: 1 — разрешить вход через Telegram, 0 — запретить.
CALENDAR_V2_ENABLED=true
# Необязательная: true — использовать новую версию календаря.
HABITS_V1_ENABLED=true
# Необязательная: true — включить модуль привычек.
HABITS_RPG_ENABLED=true
# Необязательная: true — включить RPG-экономику привычек.
HABITS_ANTIFARM_ENABLED=true
# Необязательная: true — включить анти-фарм механику.
HABITS_ANTIFARM_DEFAULT_LIMIT=10
# Необязательная: мягкий дневной предел начислений.
HABITS_ANTIFARM_DEFAULT_COOLDOWN=60
# Необязательная: минимальный интервал между кликами (сек).
APP_MODE=single
# Обязательная: режим приложения (single/cluster).
API_BASE="/api/v1"
# Обязательная: базовый префикс API.
ENABLE_SCHEDULER=0
# Необязательная: 1 — включить фоновые задачи, 0 — отключить.
HABITS_WEEKLY_DIGEST_ENABLED=true
# Необязательная: включить еженедельные дайджесты привычек.
DIGEST_WEEKLY_CRON="MON 08:00 Europe/Bucharest"
# Необязательная: CRON строка запуска дайджеста.

# Crypto for settings encryption (generate: openssl rand -base64 32)
PROJECT_SECRET_KEY="PUT_BASE64_32BYTES_HERE"
# Обязательная: ключ шифрования, 32 байта base64.

# Optional
RECAPTCHA_SITE_KEY=
# Необязательная: ключ Google reCAPTCHA (публичный).
RECAPTCHA_SECRET_KEY=
# Необязательная: секрет reCAPTCHA.

# Email
SMTP_HOST=
# Необязательная: SMTP сервер.
SMTP_PORT=587
# Необязательная: порт SMTP (обычно 587).
SMTP_USER=
# Необязательная: пользователь SMTP.
SMTP_PASSWORD=
# Необязательная: пароль SMTP.
EMAIL_FROM=
# Необязательная: адрес отправителя писем.

# Google Calendar
GOOGLE_CLIENT_ID=
# Обязательная при интеграции Google: OAuth client ID.
GOOGLE_CLIENT_SECRET=
# Обязательная при интеграции Google: OAuth client secret.
GCAL_WEBHOOK_URL="http://localhost:5800/api/v1/integrations/google/webhook"
# Необязательная: URL вебхука синхронизации календаря.

# Observability & security
METRICS_ENABLED=0
METRICS_BASIC_AUTH_USER=""
METRICS_BASIC_AUTH_PASS=""
OTEL_ENABLED=0
OTEL_EXPORTER_OTLP_ENDPOINT=""
SECURITY_HEADERS_ENABLED=1
RATE_LIMIT_ENABLED=0
MAX_REQUEST_BODY_BYTES=1048576

